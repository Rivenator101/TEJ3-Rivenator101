//-----------------------------------------------------------------------------
// Name:        day two
// Purpose:     2nd day project - password strength checker
//
// Author:      Riven
//
// Created:     20-Aug-2018
// Updated:     20-Aug-2018
//-----------------------------------------------------------------------------

#include <iostream>
#include <string>
using namespace std;

// function prototype
void passwordChecker();

int main() {
    int choice;

    cout << "==============================" << endl;
    cout << "       PASSWORD CHECKER" << endl;
    cout << "==============================" << endl;

    cout << "1. Check a password" << endl;
    cout << "2. Exit" << endl;

    cout << "Choose an option (1-2): ";
    cin >> choice;

    switch (choice) {
        case 1:
            passwordChecker();
            break;

        case 2:
            cout << "Exiting..." << endl;
            break;

        default:
            cout << "Invalid option." << endl;
    }

    return 0;
}

//----------------- PASSWORD CHECKER FUNCTION -----------------
void passwordChecker() {
    string password;

    cout << "\nEnter a password to check its strength: ";
    cin >> password;

    bool hasUpper = false;
    bool hasDigit = false;
    bool hasSpecial = false;

    // loop through each character in the password
    for (int i = 0; i < password.length(); i++) {
        char c = password[i];

        if (isupper(c))
            hasUpper = true;

        if (isdigit(c))
            hasDigit = true;

        if (!isalnum(c))  // not a letter OR number
            hasSpecial = true;
    }

    // Output results
    cout << "\n--- Password Check ---\n";
    cout << "Length (>= 8): " 
         << (password.length() >= 8 ? "OK" : "Too short") << endl;

    cout << "Has uppercase: " 
         << (hasUpper ? "Yes" : "No") << endl;

    cout << "Has number:    " 
         << (hasDigit ? "Yes" : "No") << endl;

    cout << "Has special:   " 
         << (hasSpecial ? "Yes" : "No") << endl;

    // Strength evaluation
    if (password.length() >= 8 && hasUpper && hasDigit && hasSpecial) {
        cout << "\nPassword Strength: STRONG ðŸ’ª" << endl;
    } else {
        cout << "\nPassword Strength: WEAK âŒ" << endl;
    }
}
